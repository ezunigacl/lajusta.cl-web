<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>La Justa | La verdad financiera</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@1&family=Inter:wght@300;400;500;600&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>

    <script>
        let currentUF = 37985.50;
        const defaultUFValue = 37985.50;

        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        ocean: '#022C43',
                        oceanLight: '#053B58',
                        oceanDark: '#011826',
                        acid: '#CCFF00',
                        acidHover: '#b3e600',
                        lightText: '#E6F4F1'
                    },
                    fontFamily: {
                        serif: ['Instrument Serif', 'serif'],
                        sans: ['Inter', 'sans-serif'],
                        mono: ['Space Mono', 'monospace'],
                    },
                    animation: {
                        'modal-open': 'modal-open 0.3s ease-out forwards',
                        'modal-close': 'modal-close 0.3s ease-out forwards',
                        'fade-in': 'fade-in 0.5s ease-out forwards',
                        'fade-in-up': 'fade-in-up 0.5s ease-out forwards',
                    },
                }
            }
        }
    </script>

    <style>
        body { background-color: #022C43; color: #E6F4F1; overflow-x: hidden; }
        .font-serif { font-family: 'Instrument Serif', serif; font-style: italic; }
        .font-mono { font-family: 'Space Mono', monospace; }
        .text-glow { text-shadow: 0 0 20px rgba(204, 255, 0, 0.4); }
        .glass-panel { 
            background: rgba(5, 59, 88, 0.3); 
            backdrop-filter: blur(16px); 
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.08); 
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
        }
        .grid-bg { 
            background-image: linear-gradient(rgba(204, 255, 0, 0.03) 1px, transparent 1px), linear-gradient(90deg, rgba(204, 255, 0, 0.03) 1px, transparent 1px); 
            background-size: 40px 40px; background-position: center top;
        }
        .btn-3d { transition: all 0.1s ease; box-shadow: 4px 4px 0px rgba(0,0,0,0.5); }
        .btn-3d:active { transform: translate(2px, 2px); box-shadow: 2px 2px 0px rgba(0,0,0,0.5); }
        .fade-in-up { animation: fadeInUp 0.8s ease-out forwards; opacity: 0; transform: translateY(20px); }
        @keyframes fadeInUp { to { opacity: 1; transform: translateY(0); } }

        .input-premium {
            background: rgba(1, 24, 38, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: white;
            transition: all 0.2s;
            font-family: 'Space Mono', monospace;
        }
        .input-premium:focus { 
            border-color: #CCFF00; 
            outline: none; 
            box-shadow: 0 0 10px rgba(204, 255, 0, 0.2); 
            background: rgba(1, 24, 38, 0.8);
        }
    </style>
</head>
<body class="grid-bg relative antialiased selection:bg-acid selection:text-ocean">

    <div id="messageBox" class="fixed top-4 left-1/2 -translate-x-1/2 hidden z-[1000] transition-all duration-300 max-w-sm w-full animate-fade-in-up" role="alert">
        <div class="p-4 rounded-xl shadow-xl font-mono" id="messageBoxContent">
            <p id="messageText" class="font-bold text-center"></p>
        </div>
    </div>
    
    <div id="expressModal" class="fixed inset-0 z-[100] hidden flex items-center justify-center p-4">
        <div class="absolute inset-0 bg-oceanDark/90 backdrop-blur-md" onclick="toggleExpressModal()"></div>
        <div class="relative w-full max-w-[380px] animate-fade-in">
            <div class="glass-panel rounded-2xl p-6 shadow-2xl border border-white/10 flex flex-col overflow-hidden">
                <button onclick="toggleExpressModal()" class="absolute top-4 right-4 text-gray-400 hover:text-acid z-20">
                    <i data-lucide="x" class="w-6 h-6"></i>
                </button>
                <div class="text-center mb-6 relative z-10">
                    <h1 class="font-serif text-3xl italic text-acid tracking-wide inline-flex items-center gap-2">La Justa<span class="text-white">.</span></h1>
                    <p class="font-mono text-[9px] uppercase tracking-[0.25em] text-white/50 mt-1">Simulador Express v1.0</p>
                    <div class="mt-3 inline-block bg-oceanLight/50 border border-white/10 px-2 py-1 rounded-md">
                        <span class="text-[9px] font-bold text-acid uppercase tracking-widest block">UF HOY: <span id="modalUFShow" class="text-white font-mono font-bold">...</span></span>
                    </div>
                </div>
                <div id="express-form" class="space-y-4 relative z-10 animate-fade-in">
                    <div class="grid grid-cols-2 gap-3">
                        <div>
                            <label class="block text-[10px] font-bold text-acid uppercase mb-1.5 ml-1 font-mono">Tu Edad</label>
                            <input type="number" id="ex-edad" value="65" class="input-premium w-full rounded-lg px-3 py-2 text-center text-lg font-bold" min="18" max="99">
                        </div>
                        <div>
                            <label class="block text-[10px] font-bold text-acid uppercase mb-1.5 ml-1 font-mono">Género</label>
                            <div class="flex gap-1 h-[46px]">
                                <button onclick="setExGender('M')" id="ex-btn-M" class="flex-1 rounded-l-lg border border-acid bg-acid text-ocean text-xs font-bold transition-colors">M</button>
                                <button onclick="setExGender('F')" id="ex-btn-F" class="flex-1 rounded-r-lg border border-white/10 bg-oceanLight/50 text-xs font-bold hover:bg-oceanLight transition-colors text-white/70">F</button>
                            </div>
                        </div>
                    </div>
                    <div>
                        <label class="block text-[10px] font-bold text-acid uppercase mb-1.5 ml-1 font-mono">Estado Civil</label>
                        <select id="ex-estadoCivil" class="input-premium w-full rounded-lg px-3 py-2.5 text-xs appearance-none cursor-pointer">
                            <option value="soltero">Soltero(a) / Divorciado(a)</option>
                            <option value="casado">Casado(a) / Pareja Civil</option>
                            <option value="viudo">Viudo(a)</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-[10px] font-bold text-acid uppercase mb-1.5 ml-1 font-mono">Saldo Acumulado AFP</label>
                        <input type="text" id="ex-saldo" placeholder="10.000.000" oninput="formatExCLP(this)" class="input-premium w-full rounded-lg px-3 py-2.5 font-bold text-lg text-center text-acid text-glow">
                    </div>
                    <div class="flex items-center justify-between p-3 bg-oceanLight/30 rounded-lg border border-white/5">
                        <span class="text-xs font-bold text-white font-mono">¿Incluir PGU? (Si edad ≥ 65)</span>
                        <label class="relative inline-flex items-center cursor-pointer">
                            <input type="checkbox" id="ex-pgu-toggle" class="sr-only peer" checked>
                            <div class="w-9 h-5 bg-oceanDark rounded-full peer peer-checked:after:translate-x-full peer-checked:bg-acid after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white/80 after:rounded-full after:h-4 after:w-4 after:transition-all"></div>
                        </label>
                    </div>
                    <button onclick="calcularExpress()" class="btn-3d w-full bg-acid text-ocean font-extrabold py-3.5 rounded-lg uppercase tracking-widest text-xs">Simular Pensión</button>
                </div>
                <div id="express-result" class="hidden text-center py-4 relative z-10 animate-fade-in-up">
                    <span class="text-[9px] font-mono text-white/50 uppercase tracking-[0.2em]">Monto Mensual Estimado (CLP)</span>
                    <div id="ex-resultado-monto" class="text-4xl font-mono font-bold text-acid my-4 text-glow">$0</div>
                    <a href="simulador.html" class="btn-3d block w-full bg-acid text-ocean font-extrabold py-3.5 rounded-lg uppercase tracking-widest text-[10px] hover:bg-white transition-all">Ver Informe Completo →</a>
                    <button onclick="resetExpress()" class="text-[9px] font-mono text-white/40 uppercase hover:text-white transition-colors mt-4">Reiniciar Cálculo</button>
                </div>
            </div>
        </div>
    </div>

    <nav class="fixed w-full z-50 glass-panel border-b-0 border-white/5">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-20">
                <div class="flex items-center gap-6">
                    <a href="index.html" class="flex items-center gap-3 group flex-shrink-0">
                        <img src="Logo.jpg" alt="Logo" class="h-10 w-10 rounded-lg border border-white/10 group-hover:border-acid transition-colors object-cover">
                        <span class="font-serif text-2xl md:text-3xl text-acid tracking-wide">La Justa<span class="text-white">.</span></span>
                    </a>
                    <div class="hidden lg:flex items-center gap-4 bg-oceanLight/30 border border-white/10 px-4 py-1.5 rounded-lg backdrop-blur-md">
                        <div class="flex flex-col items-start leading-none border-r border-white/10 pr-4">
                            <span class="text-[9px] font-bold text-acid uppercase tracking-widest mb-0.5">UF HOY</span>
                            <span id="navUF" class="font-mono text-white text-xs font-bold animate-pulse">...</span>
                        </div>
                        <div class="flex flex-col items-start leading-none">
                            <span class="text-[9px] font-bold text-acid uppercase tracking-widest mb-0.5">UTM MES</span>
                            <span id="navUTM" class="font-mono text-white text-xs font-bold animate-pulse">...</span>
                        </div>
                    </div>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-8 font-mono text-sm">
                        <a href="index.html" class="text-white hover:text-acid transition-colors">INICIO</a>
                        <a href="#que-hacemos" class="text-white hover:text-acid transition-colors">SERVICIOS</a>
                        <a href="#tools" class="text-acid hover:text-white transition-colors glow-sm">[ HERRAMIENTAS ]</a>
                        <a href="#login" class="border border-acid text-acid px-4 py-2 hover:bg-acid hover:text-ocean transition-all btn-3d">ACCESO</a>
                    </div>
                </div>
                <div class="md:hidden">
                    <button onclick="document.getElementById('mobile-menu').classList.toggle('hidden')" class="text-white hover:text-acid p-2 focus:outline-none">
                        <i data-lucide="menu" class="w-8 h-8"></i>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <section id="inicio" class="relative pt-32 pb-20 lg:pt-48 lg:pb-32 overflow-hidden">
        <div class="absolute top-0 right-0 -mr-20 -mt-20 w-96 h-96 bg-acid opacity-10 blur-[100px] rounded-full pointer-events-none"></div>
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10 text-center lg:text-left">
            <div class="lg:w-2/3 fade-in-up">
                <div class="inline-flex items-center gap-2 px-3 py-1 border border-acid/30 rounded-full bg-oceanLight/30 backdrop-blur-sm mb-6">
                    <span class="w-2 h-2 rounded-full bg-acid animate-pulse"></span>
                    <span class="text-xs font-mono text-acid tracking-widest uppercase">Beta Pública v1.0</span>
                </div>
                <h1 class="font-serif text-6xl md:text-8xl leading-[0.9] mb-6 text-white text-glow">
                    La verdad <br/> financiera <br/> <span class="text-acid text-glow">sin letra chica.</span>
                </h1>
                <p class="mt-4 max-w-lg text-lg text-gray-300 font-light font-sans mb-10 mx-auto lg:mx-0">
                    Tecnología transparente para decisiones que definen tu futuro. Herramientas actuariales para optimizar tu jubilación.
                </p>
                <div class="flex flex-col sm:flex-row gap-4 justify-center lg:justify-start font-mono text-sm">
                    <button onclick="toggleExpressModal()" class="btn-3d bg-acid text-ocean px-8 py-4 font-bold flex items-center justify-center gap-2">
                        CALCULADORA RÁPIDA <i data-lucide="calculator" class="w-4 h-4"></i>
                    </button>
                    <a href="#manifiesto" class="btn-3d border border-white/20 text-white px-8 py-4 hover:border-acid hover:text-acid text-center">LEER MANIFIESTO</a>
                </div>
            </div>
        </div>
    </section>

    <section id="tools" class="py-24 relative border-t border-white/5">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
            <h2 class="font-serif text-5xl text-white mb-16 text-glow">Hub de Herramientas</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-8">
                <div class="glass-panel p-8 card-hover group relative flex flex-col justify-between h-[450px] border-acid/30">
                    <div>
                        <div class="w-16 h-16 bg-acid/10 rounded-full flex items-center justify-center mb-6 border border-acid/20"><i data-lucide="bar-chart-2" class="text-acid w-8 h-8"></i></div>
                        <h3 class="font-serif text-3xl text-white mb-2">Simulador Pensión</h3>
                        <p class="text-gray-400 text-sm">Proyecta tu jubilación real cruzando datos de rentabilidad histórica y lagunas.</p>
                    </div>
                    <a href="simulador.html" class="mt-8 w-full block text-center btn-3d bg-acid text-ocean py-3 font-mono text-sm font-bold uppercase">Calcular Ahora</a>
                </div>
                <div class="glass-panel p-8 card-hover group relative flex flex-col justify-between h-[450px]">
                    <div>
                        <div class="w-16 h-16 bg-oceanLight rounded-full flex items-center justify-center mb-6 border border-white/10"><i data-lucide="scale" class="text-white w-8 h-8 group-hover:text-acid"></i></div>
                        <h3 class="font-serif text-3xl text-white mb-2">Auditor SCOMP</h3>
                        <p class="text-gray-400 text-sm">Analizamos las ofertas del certificado SCOMP comparando tasas reales vs mercado.</p>
                    </div>
                    <a href="auditorscomp.html" class="mt-8 w-full block text-center btn-3d border border-acid text-acid py-3 font-mono text-sm font-bold uppercase hover:bg-acid hover:text-ocean transition-all">Auditar Ofertas</a>
                </div>
                <div class="glass-panel p-8 card-hover group relative flex flex-col justify-between h-[450px]">
                    <div>
                        <div class="w-16 h-16 bg-oceanLight rounded-full flex items-center justify-center mb-6 border border-white/10"><i data-lucide="users" class="text-white w-8 h-8 group-hover:text-acid"></i></div>
                        <h3 class="font-serif text-3xl text-white mb-2">PGU / Bono Hijo</h3>
                        <p class="text-gray-400 text-sm">Calcula la PGU y el estimador mensual de bono por hijo nacido vivo.</p>
                    </div>
                    <a href="pgu.html" class="mt-8 w-full block text-center btn-3d border border-acid text-acid py-3 font-mono text-sm font-bold uppercase hover:bg-acid hover:text-ocean transition-all">Consultar PGU</a>
                </div>
            </div>
        </div>
    </section>

    <section id="blog" class="py-20 border-t border-white/5">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="font-serif text-4xl text-white mb-12">La Verdad <span class="font-sans text-lg text-gray-500 not-italic ml-4">// Artículos Recientes</span></h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-glow">
                
                <a href="apv-deuda.html" class="group cursor-pointer">
                    <article>
                        <div class="h-48 w-full bg-oceanLight mb-4 border border-white/5 relative overflow-hidden">
                            <div class="absolute inset-0 bg-acid/10 group-hover:bg-acid/20 transition-colors"></div>
                            <div class="absolute bottom-4 left-4 font-mono text-xs bg-ocean px-2 py-1 text-acid">18 DIC 2025</div>
                        </div>
                        <h3 class="font-serif text-2xl text-white group-hover:text-acid">Deuda Técnica: El costo de tu inercia</h3>
                        <p class="text-gray-500 text-sm mt-2">Mantener tu APV en la misma AFP podría costarte hasta un 0.95% anual extra.</p>
                    </article>
                </a>

                <article class="group cursor-pointer">
                    <div class="h-48 w-full bg-oceanLight mb-4 border border-white/5 relative overflow-hidden">
                        <div class="absolute inset-0 bg-acid/10 group-hover:bg-acid/20 transition-colors"></div>
                        <div class="absolute bottom-4 left-4 font-mono text-xs bg-ocean px-2 py-1 text-acid">05 DIC 2025</div>
                    </div>
                    <h3 class="font-serif text-2xl text-white group-hover:text-acid">El mito de la Seguridad</h3>
                    <p class="text-gray-500 text-sm mt-2">Por qué "seguridad" suele ser sinónimo de perder ante la inflación.</p>
                </article>
                <article class="group cursor-pointer">
                    <div class="h-48 w-full bg-oceanLight mb-4 border border-white/5 relative overflow-hidden">
                        <div class="absolute inset-0 bg-acid/10 group-hover:bg-acid/20 transition-colors"></div>
                        <div class="absolute bottom-4 left-4 font-mono text-xs bg-ocean px-2 py-1 text-acid">01 DIC 2025</div>
                    </div>
                    <h3 class="font-serif text-2xl text-white group-hover:text-acid">SCOMP Hacks</h3>
                    <p class="text-gray-500 text-sm mt-2">Cómo leer el certificado para encontrar las brechas de mercado.</p>
                </article>
            </div>
        </div>
    </section>

    <footer class="bg-oceanDark pt-16 pb-8 border-t border-white/10 text-sm mt-auto">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center md:text-left">
            <div class="border-t border-white/5 pt-8 flex flex-col md:flex-row justify-between items-center text-xs text-gray-600 font-mono">
                <p>&copy; 2025 La Justa Fintech SpA. Todos los derechos reservados.</p>
                <p class="mt-2 md:mt-0 max-w-lg">DISCLAIMER: Las proyecciones son referenciales.</p>
            </div>
        </div>
    </footer>

    <script>
        lucide.createIcons();
        
        let exGender = 'M';
        const PGU_MONTO = 214296;
        const modal = document.getElementById('expressModal');
        const formDiv = document.getElementById('express-form');
        const resultDiv = document.getElementById('express-result');

        function showMessage(message, type = 'error') {
            const msgBox = document.getElementById('messageBox');
            const msgText = document.getElementById('messageText');
            const contentBox = document.getElementById('messageBoxContent');
            msgText.innerText = message;
            msgBox.classList.remove('hidden');
            const themeClass = type === 'error' ? 'bg-red-900/80 border border-red-700/80 text-white' : 'bg-green-900/80 border border-green-700/80 text-acid';
            contentBox.className = `p-4 rounded-xl shadow-xl ${themeClass}`;
            setTimeout(() => { msgBox.classList.add('hidden'); }, 4000);
        }

        function toggleExpressModal() {
            const isHidden = modal.classList.contains('hidden');
            if (isHidden) {
                modal.classList.remove('hidden');
                modal.classList.remove('animate-modal-close');
                document.body.style.overflow = 'hidden';
                document.getElementById('modalUFShow').innerText = new Intl.NumberFormat('es-CL', { style: 'currency', currency: 'CLP', maximumFractionDigits: 2 }).format(currentUF);
                setExGender(exGender);
                resetExpress();
            } else {
                modal.classList.add('animate-modal-close');
                setTimeout(() => { modal.classList.add('hidden'); modal.classList.remove('animate-modal-close'); document.body.style.overflow = ''; }, 300);
            }
        }

        function setExGender(g) {
            exGender = g;
            const bM = document.getElementById('ex-btn-M'), bF = document.getElementById('ex-btn-F');
            [bM, bF].forEach(b => b.className = "flex-1 border border-white/10 bg-oceanLight/50 text-xs font-bold text-white/70 transition-colors rounded-lg");
            const active = g === 'M' ? bM : bF;
            active.className = "flex-1 border border-acid bg-acid text-ocean text-xs font-bold transition-colors rounded-lg";
        }

        function formatExCLP(i) { 
            let v = i.value.replace(/\D/g, '');
            i.value = v ? new Intl.NumberFormat('es-CL').format(v) : '';
        }

        function resetExpress() { resultDiv.classList.add('hidden'); formDiv.classList.remove('hidden'); }

        function calcularExpress() {
            const balanceRaw = document.getElementById('ex-saldo').value.replace(/\./g, '');
            const balance = parseInt(balanceRaw) || 0;
            const age = parseInt(document.getElementById('ex-edad').value);
            const includePgu = document.getElementById('ex-pgu-toggle').checked;
            
            if (!age || age < 18 || age > 99) { showMessage("Edad no válida.", 'error'); return; }
            if (balance < 1000000) { showMessage("Mínimo $1.000.000.", 'error'); return; }

            const r = 0.042;
            let yearsToLive = Math.max((exGender === 'M' ? 88 : 93) - Math.max(age, 65), 5);
            let cnuFactor = (1 - Math.pow(1 + r, -yearsToLive)) / r;
            let totalMonto = ((balance / currentUF) / (cnuFactor * 12)) * 0.92 * currentUF;
            
            if (includePgu && age >= 65) totalMonto += PGU_MONTO;
            
            document.getElementById('ex-resultado-monto').innerText = new Intl.NumberFormat('es-CL', { style: 'currency', currency: 'CLP', maximumFractionDigits: 0 }).format(totalMonto);
            formDiv.classList.add('hidden');
            resultDiv.classList.remove('hidden');
        }

        async function fetchFinancialIndicators() {
            try {
                const response = await fetch('https://mindicador.cl/api');
                const data = await response.json();
                currentUF = data.uf.valor;
                document.getElementById('navUF').innerText = new Intl.NumberFormat('es-CL', { style: 'currency', currency: 'CLP', maximumFractionDigits: 0 }).format(currentUF);
                document.getElementById('navUTM').innerText = new Intl.NumberFormat('es-CL', { style: 'currency', currency: 'CLP', maximumFractionDigits: 0 }).format(data.utm.valor);
                document.getElementById('navUF').classList.remove('animate-pulse');
            } catch (e) { 
                document.getElementById('navUF').innerText = `$${defaultUFValue.toFixed(0)}`;
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            fetchFinancialIndicators();
            lucide.createIcons();
        });
    </script>
</body>
</html>
